<view class="jm-search custom-class {{ light ? 'is-light': ''}} {{ hideCancel ? 'is-without-cancel': '' }}">
    <!--自定义label插槽-->
    <slot wx:if="{{useLabelSlot}}" name="label"></slot>
    <!--搜索框主体-->
    <view class="jm-search__block">
        <view
                wx:if="{{!placeholderLeft}}"
                hidden="{{str || !showPlaceHolder}}"
                class="jm-search__placeholder"
                class="jm-search__placeholder"
                bindtap="closePlaceHolder"
        >
            <jm-icon name="search" class="jm-search__search-icon"></jm-icon>
            <text>{{ placeholder || '搜索' }}</text>
        </view>
        <!--icon:search-->
        <jm-icon name="search" class="jm-search__search-icon"></jm-icon>
        <!--搜索框-->
        <input
                placeholder="{{ placeholder || '搜索' }}"
                placeholder-class="jm-search__placeholder-txt"
                confirm-type="search"
                value="{{str}}"
                class="jm-search__input"
                bindfocus="searchFocus"
                bindinput="inputValue"
                bindblur="searchBlur"
                bindconfirm="search"
                disabled="{{disabled}}"
                maxlength="{{maxlength}}"
                focus="{{autofocus}}"
        />
        <!--icon:clear-->
        <jm-icon
                wx:if="{{str}}"
                name="close-fill"
                class="jm-search__clear"
                bindtap="clearSearch"
        />
    </view>
    <!--the button behind input,care for hideCancel without displaying-->
    <block wx:if="{{!hideCancel}}">
        <!--有插槽就不用默认的按钮了-->
        <slot wx:if="{{useActionSlot}}" name="action"></slot>
        <!--默认button-->
        <view wx:else class="jm-search__cancel" bindtap="handleCancel">
            {{ cancelTxt || '取消' }}
        </view>
    </block>
</view>
